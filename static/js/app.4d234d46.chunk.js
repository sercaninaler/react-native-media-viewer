(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{82:function(e,t,r){"use strict";var a=r(1),n=r.n(a),o=r(48),i=r.n(o),c=r(29),l=r.n(c),s=r(23),u=r.n(s),g=r(18),d=r.n(g),p=r(5),m=r(11),f=r(84),h=r(13),y=r(83),b=r(74),w=r.n(b),S=r(75),E=r.n(S),O=function(e){return"https://pixabay.com/api/?key=14265060-81ead90aa88e46a5937fa954d\n&q="+e+"&image_type=photo&safesearch=true&orientation=horizontal&per_page=100"},I=["animals","fruits","planets"],C={imageWidth:640,theme:"light"},k=localStorage.getItem("tags")?JSON.parse(localStorage.getItem("tags")||""):I,x=localStorage.getItem("settings")?JSON.parse(localStorage.getItem("settings")||""):C,j=r(76).a.get("window"),v=Math.round(9*j.width/16),F={app:{paddingTop:15,paddingBottom:30,height:"100%",backgroundColor:"#000000"},button:{backgroundColor:"#eee",padding:6,paddingLeft:10,paddingRight:10,borderRadius:5,borderColor:"#ddd",borderWidth:1,width:"fit-content"},searchForm:{justifyContent:"center",flexDirection:"row"},searchButtonView:{height:40,marginLeft:12,marginTop:3},searchButton:{height:48,padding:4,fontSize:18,borderRadius:7},searchInput:{fontSize:16,padding:8,backgroundColor:"#eee",borderColor:"#ddd",borderWidth:1,borderRadius:5,width:260,height:40},tags:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",marginTop:15,marginBottom:15,marginLeft:"auto",marginRight:"auto",maxWidth:800},tag:{margin:5,backgroundColor:"#eee",padding:5,paddingLeft:11,paddingRight:11,borderRadius:5,borderColor:"#ddd",borderWidth:1},message:{flexWrap:"wrap",justifyContent:"center",marginTop:25,color:"red",fontSize:16,alignSelf:"center"},loader:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"absolute",top:0,width:"100%",backgroundColor:"#000",height:"100%",opacity:.6,zIndex:1,paddingBottom:100},AppFooter:{backgroundColor:"#ececec",padding:"10 0",position:"absolute",width:"100%",bottom:0,left:0,display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},AppFooterItem:{margin:"0 5",borderColor:"#999999",padding:5,paddingLeft:10,paddingRight:10},pictureHolder:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},picture:{marginTop:"4%",marginBottom:"10%",position:"relative",width:j.width-16,height:v},pictureInfo:{position:"absolute",bottom:"3%",padding:10,flexDirection:"row",alignSelf:"center"}};function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(r,!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=function(){localStorage.getItem("pictures")||localStorage.setItem("pictures",JSON.stringify({})),localStorage.getItem("tags")||localStorage.setItem("tags",JSON.stringify(I)),localStorage.getItem("settings")||localStorage.setItem("settings",JSON.stringify(C));var e=Object(a.useState)([]),t=d()(e,2),r=t[0],o=t[1],c=Object(a.useState)(""),s=d()(c,2),g=s[0],b=s[1],S=Object(a.useState)(k),j=d()(S,2),v=j[0],P=j[1],L=Object(a.useState)(0),J=d()(L,2),W=J[0],N=J[1],T=Object(a.useState)(x),A=d()(T,2),R=A[0],B=A[1],M=Object(a.useState)(null),z=d()(M,2),_=z[0],U=z[1],H=Object(a.useState)(!1),V=d()(H,2),q=V[0],G=V[1],K=Object(a.useState)(10),Q=d()(K,2),X=Q[0],Y=Q[1],Z=F,$=R.theme;R.imageWidth;"light"===$&&(Z=D({},F,{app:D({},F.app,{backgroundColor:"#FFFFFF"})}));var ee=function(e){""!==e&&-1===v.indexOf(e)&&(v.unshift(e),P(v),localStorage.setItem("tags",JSON.stringify(v)))},te=function(e){var t,r,a,n,i;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.trim(),U(null),Y(10),r=JSON.parse(localStorage.getItem("pictures")||""),Array.isArray(r[t])&&r[t].length&&!(Math.round((new Date).getTime()/1e3)-r[t+"_lastUpdate"]>43200)){c.next=14;break}return G(!0),c.next=8,l.a.awrap(w.a.get(O(t)));case 8:a=c.sent,(n=a.data.hits).length?(i=[],n.forEach((function(e){i.push({image:e.webformatURL,tags:e.tags,isDeleted:!1,showInfo:!1})})),r[t]=i,r[t+"_lastUpdate"]=Math.round((new Date).getTime()/1e3),localStorage.setItem("pictures",JSON.stringify(r)),o(i),ee(t)):(setTimeout((function(){U("Couldn't find any results ")}),500),o([])),setTimeout((function(){G(!1)}),500),c.next=16;break;case 14:o(r[t]),-1===v.indexOf(t)&&ee(t);case 16:case"end":return c.stop()}}))},re=function(){N(W+1)},ae=r.filter((function(e){return!e.isDeleted})).slice(0,X);return n.a.createElement(p.a,{style:Z.app},n.a.createElement(p.a,{style:Z.searchForm},n.a.createElement(f.a,{style:Z.searchInput,value:g,onChangeText:function(e){return function(e){b(e.toLowerCase())}(e)},onSubmitEditing:function(){te(g)},placeholder:"cats, planets, fruits,...",selectTextOnFocus:!0})),n.a.createElement(p.a,{style:Z.tags},v.map((function(e){return n.a.createElement(h.a,{key:e,style:Z.tag,onPress:function(){b(e),te(e)}},n.a.createElement(m.a,null,e))}))),_&&n.a.createElement(m.a,{style:Z.message},_),q&&n.a.createElement(p.a,{style:Z.loader},n.a.createElement(E.a,{type:"BallTriangle",color:"#FFF",height:100,width:100,timeout:5e5})),!q&&0!==r.length&&n.a.createElement(p.a,{style:Z.pictureHolder},ae.map((function(e,t){return n.a.createElement(p.a,{style:Z.pictureHolder,key:e.image},n.a.createElement(y.a,{style:Z.picture,resizeMode:"cover",source:{uri:e.image},onClick:function(){return function(e){var t=i()(r);t[e].showInfo=!t[e].showInfo,o(t)}(t)}}),e.showInfo?n.a.createElement(p.a,{style:Z.pictureInfo},n.a.createElement(h.a,{underlayColor:"#cccccc",style:D({},Z.button,{marginLeft:2,marginRight:2}),onPress:function(){return function(e,t){var a=i()(r);a[e].isDeleted=!0,o(a);var n=JSON.parse(localStorage.getItem("pictures")||"");n[t]=a,n[t+"_lastUpdate"]=Math.round((new Date).getTime()/1e3),localStorage.setItem("pictures",JSON.stringify(n))}(t,g)}},n.a.createElement(m.a,null,"x")),e.tags.split(",").map((function(e){return n.a.createElement(h.a,{key:e,style:D({},Z.button,{marginLeft:2,marginRight:2}),underlayColor:"#cccccc",onPress:function(){b(e),te(e)}},n.a.createElement(m.a,null,e))}))):null)})),n.a.createElement(h.a,{style:D({},Z.button,{marginBottom:50,marginLeft:"auto",marginRight:"auto"}),underlayColor:"#cccccc",onPress:function(){return Y(X+10)}},n.a.createElement(m.a,null,"Load More"))),n.a.createElement(p.a,{style:Z.AppFooter},W<4&&n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{style:Z.AppFooterItem,underlayColor:"#ccc",onPress:function(){re()}},n.a.createElement(m.a,null,"Media Viewer")),n.a.createElement(h.a,{style:D({},Z.AppFooterItem,{borderLeftWidth:1}),underlayColor:"#ccc",onPress:function(){!function(e,t){var r=D({},R,u()({},e,t));B(r),localStorage.setItem("settings",JSON.stringify(r))}("theme","dark"===$?"light":"dark")}},n.a.createElement(m.a,null,"dark"===$?"Light":"Dark"," Mode"))),W>20&&n.a.createElement(h.a,{style:Z.AppFooterItem,onPress:function(){return re()},underlayColor:"#ccc"},n.a.createElement(m.a,null,"Language (English)")),4===W&&n.a.createElement(h.a,{style:Z.AppFooterItem,onPress:function(){return re()},underlayColor:"#ccc"},n.a.createElement(m.a,null,"Settings")),W>4&&n.a.createElement(h.a,{style:Z.AppFooterItem,onPress:function(){return N(0)},underlayColor:"#ccc"},n.a.createElement(m.a,null,"Back")),W>4&&n.a.createElement(h.a,{style:D({},Z.AppFooterItem,{borderLeftWidth:1}),underlayColor:"#ccc",onPress:function(){localStorage.setItem("tags",JSON.stringify([])),P([])}},n.a.createElement(m.a,null,"Clear tags")),W>4&&n.a.createElement(h.a,{style:D({},Z.AppFooterItem,{borderLeftWidth:1}),underlayColor:"#ccc",onPress:function(){o([]),localStorage.setItem("pictures",JSON.stringify({}))}},n.a.createElement(m.a,null,"Clear cache"))))};t.a=L},85:function(e,t,r){r(86),e.exports=r(153)},86:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[85,1,2]]]);
//# sourceMappingURL=../../152d1ee0542de7dfbbe2.map