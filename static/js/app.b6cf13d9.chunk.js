(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{89:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),c=n.n(o),i=n(18),s=n.n(i),l=n(13),u=n.n(l),f=n(4),d=n(11),p=n(90),g=n(14),m=n(30),h=n(83),y=n(84),b=n(80),w=n.n(b),O=function(e){return"https://pixabay.com/api/?key=14265060-81ead90aa88e46a5937fa954d\n&q="+e+"&image_type=photo&safesearch=true&orientation=horizontal&per_page=100"},E=["animals","fruits","planets"],v={theme:"light"},S=n(81),j=n.n(S),k=n(82),x=new(n.n(k).a),P=j.a.create(x,{}),C=function(e,t){return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.a.awrap(P.set(e,t));case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:case"end":return n.stop()}}),null,null,[[0,5]])},L=function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.awrap(P.get(e));case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),null,null,[[0,6]])},D={app:{paddingTop:15,paddingBottom:10,height:"100%",backgroundColor:"#000000",overflow:"hidden"},button:{backgroundColor:"#eee",padding:3,paddingLeft:7,paddingRight:7,borderRadius:4,borderColor:"#ddd",borderWidth:1,width:"fit-content",margin:2},searchForm:{justifyContent:"center",flexDirection:"row"},searchButtonView:{height:40,marginLeft:12,marginTop:3},searchButton:{height:48,padding:4,fontSize:18,borderRadius:7},searchInput:{fontSize:16,padding:8,backgroundColor:"#eee",borderColor:"#ddd",borderWidth:1,borderRadius:5,width:260,height:40},tags:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",marginTop:15,marginBottom:15,marginLeft:"auto",marginRight:"auto",maxWidth:800},message:{flexWrap:"wrap",justifyContent:"center",marginTop:25,color:"red",fontSize:16,alignSelf:"center"},loader:{flex:1,flexDirection:"row",justifyContent:"space-around",alignItems:"center",position:"absolute",top:0,width:"100%",backgroundColor:"#FFF",height:"100%",opacity:.7,zIndex:1,paddingBottom:100},footer:{backgroundColor:"#ececec",padding:"10 0",position:"absolute",width:"100%",bottom:0,left:0,display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},footerLink:{margin:"0 5",borderColor:"#ddd",padding:5,paddingLeft:10,paddingRight:10},pictureHolder:{flexDirection:"column",justifyContent:"center",position:"relative",alignItems:"center"},picture:{marginTop:"5%",marginBottom:"10%"},pictureInfo:{position:"absolute",bottom:"17%",flexDirection:"row",alignSelf:"center"}};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){return a.a.createElement(g.a,{style:J({},D.button,{},e.addStyles),underlayColor:"#cccccc",onPress:e.onPress},a.a.createElement(d.a,null,e.text))},N=n(88);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(){L("pictures").then((function(e){null===e&&C("pictures",JSON.stringify({})).then()})),L("tags").then((function(e){null===e&&C("tags",JSON.stringify(E)).then()})),L("settings").then((function(e){null===e&&C("settings",JSON.stringify(v)).then()}));var e=Object(r.useState)([]),t=u()(e,2),n=t[0],o=t[1],i=Object(r.useState)(""),l=u()(i,2),b=l[0],S=l[1],j=Object(r.useState)(0),k=u()(j,2),x=k[0],P=k[1],F=Object(r.useState)(null),J=u()(F,2),T=J[0],R=J[1],B=Object(r.useState)(!1),z=u()(B,2),M=z[0],_=z[1],U=Object(r.useState)(10),H=u()(U,2),A=H[0],V=H[1],q=Object(r.useState)(v),G=u()(q,2),K=G[0],Q=G[1],X=Object(r.useState)([]),Y=u()(X,2),Z=Y[0],$=Y[1];Object(r.useEffect)((function(){L("settings").then((function(e){Q(JSON.parse(e))})),L("tags").then((function(e){$(JSON.parse(e))})),L("pictures").then((function(e){o(JSON.parse(e))}))}),[]);var ee=D,te=K.theme;"light"===te&&(ee=W({},D,{app:W({},D.app,{backgroundColor:"#FFFFFF"})}));var ne=function(e){var t,r,a,i;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.trim(),R(null),V(10),_(!0),Array.isArray(n[t])&&n[t].length&&!(Math.round((new Date).getTime()/1e3)-n[t+"_lastUpdate"]>43200)){s.next=12;break}return s.next=7,c.a.awrap(w.a.get(O(t)));case 7:r=s.sent,(a=r.data.hits).length?(re(t),i=[],a.forEach((function(e){i.push({image:e.webformatURL,tags:e.tags,isDeleted:!1})})),n[t]=i,n[t+"_lastUpdate"]=Math.round((new Date).getTime()/1e3),C("pictures",JSON.stringify(n)),o(W({},n))):setTimeout((function(){R("Couldn't find any results ")}),500),s.next=13;break;case 12:-1===Z.indexOf(t)&&re(t);case 13:setTimeout((function(){_(!1)}),100);case 14:case"end":return s.stop()}}))},re=function(e){""!==e&&-1===Z.indexOf(e)&&(Z.unshift(e),$(Z),C("tags",JSON.stringify(Z)))},ae=null,oe=function(e){n[b][e].showInfo=!n[b][e].showInfo,o(W({},n))},ce=function(){P(x+1)},ie=n[b]?n[b].filter((function(e){return!e.isDeleted})).slice(0,A):[];return a.a.createElement(f.a,{style:ee.app},a.a.createElement(f.a,{style:ee.searchForm},a.a.createElement(p.a,{style:ee.searchInput,value:b,onChangeText:function(e){return function(e){S(e.toLowerCase())}(e)},onSubmitEditing:function(){ne(b)},placeholder:"cats, planets, fruits,...",selectTextOnFocus:!0})),a.a.createElement(f.a,{style:ee.tags},Z.map((function(e){return a.a.createElement(g.a,{key:e,style:ee.button,underlayColor:"#cccccc",onPress:function(){S(e),ne(e)}},a.a.createElement(d.a,null,e))}))),T&&a.a.createElement(d.a,{style:ee.message},T),M&&a.a.createElement(f.a,{style:ee.loader},a.a.createElement(h.a,{size:"large",color:"#0000ff"})),!M&&0!==ie.length&&a.a.createElement(f.a,{style:ee.pictureHolder},ie.map((function(e,t){return a.a.createElement(m.a,{key:e.image,onLongPress:function(){return oe(t)},onPress:function(){return function(e){var t=Date.now();ae&&t-ae<300?oe(e):ae=t}(t)}},a.a.createElement(f.a,{style:ee.pictureHolder},a.a.createElement(N.a,{style:ee.picture,source:{uri:e.image},width:y.a.get("window").width}),e.showInfo&&a.a.createElement(f.a,{style:ee.pictureInfo},a.a.createElement(g.a,{underlayColor:"#cccccc",style:W({},ee.button,{marginLeft:2,marginRight:2}),onPress:function(){return function(e){n[b][e].isDeleted=!0,n[b+"_lastUpdate"]=Math.round((new Date).getTime()/1e3),C("pictures",JSON.stringify(n)),o(W({},n))}(t)}},a.a.createElement(d.a,null,"x")),e.tags.split(",").map((function(e){return a.a.createElement(g.a,{key:e,style:W({},ee.button,{marginLeft:2,marginRight:2}),underlayColor:"#cccccc",onPress:function(){S(e.trim()),ne(e)}},a.a.createElement(d.a,null,e))})))))})),a.a.createElement(I,{onPress:function(){return V(A+10)},text:"Load More",addStyles:{marginBottom:70,marginLeft:"auto",marginRight:"auto"}})),a.a.createElement(f.a,{style:ee.footer},x<4&&a.a.createElement(a.a.Fragment,null,a.a.createElement(g.a,{style:ee.footerLink,underlayColor:"#ccc",onPress:function(){ce()}},a.a.createElement(d.a,null,"Media Viewer")),a.a.createElement(g.a,{style:W({},ee.footerLink,{borderLeftWidth:1}),underlayColor:"#ccc",onPress:function(){!function(e,t){var n=W({},K,s()({},e,t));Q(n),C("settings",JSON.stringify(n))}("theme","dark"===te?"light":"dark")}},a.a.createElement(d.a,null,"dark"===te?"Light":"Dark"," Mode"))),x>20&&a.a.createElement(g.a,{style:ee.footerLink,onPress:function(){return ce()},underlayColor:"#ccc"},a.a.createElement(d.a,null,"Language (English)")),4===x&&a.a.createElement(g.a,{style:ee.footerLink,onPress:function(){return ce()},underlayColor:"#ccc"},a.a.createElement(d.a,null,"Settings")),x>4&&a.a.createElement(g.a,{style:ee.footerLink,onPress:function(){return P(0)},underlayColor:"#ccc"},a.a.createElement(d.a,null,"Back")),x>4&&a.a.createElement(g.a,{style:W({},ee.footerLink,{borderLeftWidth:1}),underlayColor:"#ccc",onPress:function(){localStorage.setItem("tags",JSON.stringify([])),$([]),S("")}},a.a.createElement(d.a,null,"Clear tags")),x>4&&a.a.createElement(g.a,{style:W({},ee.footerLink,{borderLeftWidth:1}),underlayColor:"#ccc",onPress:function(){o([]),localStorage.setItem("pictures",JSON.stringify({}))}},a.a.createElement(d.a,null,"Clear cache"))))};window.oncontextmenu=function(e){return e.preventDefault(),e.stopPropagation(),!1};t.a=R},91:function(e,t,n){n(92),e.exports=n(139)},92:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[91,1,2]]]);
//# sourceMappingURL=../../d808232b024e25fd54f3.map