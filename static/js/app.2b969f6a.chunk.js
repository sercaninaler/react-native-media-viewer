(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{135:function(e,t,n){e.exports=n.p+"static/media/pixabay.0ec9e151.png"},144:function(e,t,n){e.exports=n.p+"./fonts/UbuntuMono-R.ttf"},46:function(e,t,n){e.exports=n.p+"static/media/favicon.cadf7e0b.png"},94:function(e,t,n){"use strict";var r=n(4),a=n.n(r),o=n(6),i=n.n(o),c=n(0),s=n.n(c),u=n(18),l=n.n(u),f=n(1),g=n(16),d=n(95),p=n(79),m=n(83),b=n(80),h=n(84),y=n(20),O=n(61),w=n.n(O),x=function(e,t){return"https://pixabay.com/api/?key=14265060-81ead90aa88e46a5937fa954d\n&q="+e+"&lang="+t+"&image_type=photo&safesearch=true&orientation=horizontal&per_page=50"},E=[],S={language:"en",resolution:640,suggestions:!1,theme:"light"},j=localStorage,v=function(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap(j.setItem(e,t));case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:case"end":return n.stop()}}),null,null,[[0,5]])},k=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(j.getItem(e));case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),null,null,[[0,6]])},P=n(62);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){var t={app:{paddingTop:30,paddingBottom:30,height:"100%",backgroundColor:"#FFF",overflow:"hidden"},button:{backgroundColor:"#EEE",padding:2,borderRadius:5,borderColor:"#DDD",borderWidth:1,margin:3,justifyContent:"center",minHeight:32},":hover":{backgroundColor:"#000"},buttonText:{fontFamily:"Ubuntu Mono",fontSize:14,alignSelf:"center",marginTop:2,marginBottom:2,marginLeft:4,marginRight:4},searchForm:{justifyContent:"center",flexDirection:"row",position:"relative",width:260,alignSelf:"center"},searchButtonView:{height:40,marginLeft:12,marginTop:3},searchButton:{height:48,padding:4,fontSize:18,borderRadius:7},searchInput:{fontSize:18,padding:8,paddingLeft:10,backgroundColor:"#f8f8f8",borderColor:"#ddd",borderWidth:1,borderRadius:5,width:300,height:36,fontFamily:"Ubuntu Mono",color:"#000"},tags:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",marginTop:15,marginBottom:40,marginLeft:"auto",marginRight:"auto",maxWidth:800,paddingLeft:5,paddingRight:5},message:{flexWrap:"wrap",justifyContent:"center",marginTop:25,color:"red",fontSize:16,alignSelf:"center"},loader:{flex:1,flexDirection:"row",justifyContent:"space-around",alignItems:"center",position:"absolute",top:0,width:"100%",backgroundColor:"#FFF",height:"100%",opacity:.6,zIndex:1,paddingBottom:100},footer:{backgroundColor:"#ececec",position:"absolute",width:"100%",bottom:0,left:0,display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},footerLink:{borderWidth:0,borderColor:"#CCC",padding:5,paddingLeft:10,paddingRight:10,borderRadius:0,margin:0},pictureHolder:{flexDirection:"column",position:"relative",maxWidth:1280,alignSelf:"center"},picture:{marginTop:"3%",marginBottom:"3%"},pictureInfo:{position:"absolute",bottom:"7%",flexDirection:"row",alignSelf:"center"},textHolder:{paddingLeft:10,paddingRight:10,marginTop:"14%",maxWidth:320,alignSelf:"center"},text:{color:"#666",fontSize:14,fontFamily:"Ubuntu Mono"}};return"dark"===e&&(t=D({},t,{app:D({},t.app,{backgroundColor:"#000"}),loader:D({},t.loader,{backgroundColor:"#000"}),searchInput:D({},t.searchInput,{backgroundColor:"#333",borderColor:"#525252",color:"#DDD"}),button:D({},t.button,{backgroundColor:"#333",borderColor:"#525252"}),buttonText:D({},t.buttonText,{color:"#aaaaaa"}),footer:D({},t.footer,{backgroundColor:"#333"}),footerLink:D({},t.footerLink,{borderColor:"#5a5a5a"})})),t};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(e){var t=Object(c.useContext)(N),n=L(t);return s.a.createElement(P.a,{style:F({},n.button,{},e.addStyles),underlayColor:"dark"===t?"#555":"#ccc",onPress:e.onPress},s.a.createElement(f.a,null,e.element,s.a.createElement(g.a,{style:n.buttonText},e.text)))},R=n(35);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=s.a.createContext("light"),B=function(){k("pictures").then((function(e){null===e&&v("pictures",JSON.stringify({})).then()})),k("tags").then((function(e){null===e&&v("tags",JSON.stringify(E)).then()})),k("settings").then((function(e){null===e&&v("settings",JSON.stringify(S)).then()}));var e=Object(c.useState)([]),t=i()(e,2),r=t[0],o=t[1],u=Object(c.useState)(""),O=i()(u,2),j=O[0],P=O[1],C=Object(c.useState)(0),D=i()(C,2),T=D[0],F=D[1],I=Object(c.useState)(null),B=i()(I,2),U=B[0],z=B[1],M=Object(c.useState)(!1),H=i()(M,2),_=H[0],V=H[1],A=Object(c.useState)(!1),q=i()(A,2),X=q[0],G=q[1],K=Object(c.useState)(10),Q=i()(K,2),Y=Q[0],Z=Q[1],$=Object(c.useState)(S),ee=i()($,2),te=ee[0],ne=ee[1],re=Object(c.useState)([]),ae=i()(re,2),oe=ae[0],ie=ae[1],ce=y.a.get("window").width,se=te.theme,ue=te.language,le=te.suggestions,fe=te.resolution,ge=L(se);Object(c.useEffect)((function(){k("settings").then((function(e){e&&ne(JSON.parse(e))})),k("tags").then((function(e){e&&ie(JSON.parse(e))})),k("pictures").then((function(e){e&&o(JSON.parse(e))}))}),[]);var de=function(e,t){var n=J({},te,l()({},e,t));ne(n),v("settings",JSON.stringify(n))},pe=function(e){""!==e&&-1===oe.indexOf(e)&&(oe.unshift(e),ie(oe),v("tags",JSON.stringify(oe)))},me=function(e){var t,n,i,c;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.trim(),z(null),Z(10),V(!0),G(!1),de("suggestions",!1),Array.isArray(r[t])&&r[t].length&&!(Math.round((new Date).getTime()/1e3)-r[t+"_lastUpdate"]>43200)){s.next=14;break}return s.next=9,a.a.awrap(w.a.get(x(t,ue)));case 9:n=s.sent,(i=n.data.hits).length?(pe(t),c=[],i.forEach((function(e){c.push({image:e.webformatURL,imageBig:e.largeImageURL,tags:e.tags,isDeleted:!1})})),r[t]=c,r[t+"_lastUpdate"]=Math.round((new Date).getTime()/1e3),v("pictures",JSON.stringify(r)),o(J({},r))):setTimeout((function(){z("Couldn't find any results ")}),500),s.next=15;break;case 14:-1===oe.indexOf(t)&&pe(t);case 15:setTimeout((function(){V(!1)}),200),setTimeout((function(){G(!0)}),600);case 17:case"end":return s.stop()}}))},be=null,he=function(e){var t=Date.now();be&&t-be<400?function(e){r[j][e].showInfo=!r[j][e].showInfo,o(J({},r))}(e):be=t},ye=function(e){return r[e]?r[e][0].image:n(46)},Oe=r[j]?r[j].slice(0,Y):[],we=[];return Oe.forEach((function(e){e.tags&&e.tags.split(",").forEach((function(e){-1===we.indexOf(e.trim())&&we.push(e.trim())}))})),s.a.createElement(N.Provider,{value:se},s.a.createElement(f.a,{style:ge.app},s.a.createElement(f.a,{style:ge.searchForm},s.a.createElement(p.a,{style:ge.searchInput,value:j,onChangeText:function(e){return function(e){P(e.toLowerCase())}(e)},onSubmitEditing:function(){me(j)},placeholder:"cats, planets, fruits,...",selectTextOnFocus:!0}),j?s.a.createElement(f.a,{style:[{position:"absolute",right:3}]},s.a.createElement(W,{text:"X",addStyles:{border:0,backgroundColor:"transparent",margin:2},onPress:function(){P("")}})):null),s.a.createElement(f.a,{style:ge.tags},oe.map((function(e){return s.a.createElement(f.a,{key:e,style:[{alignItems:"center"}]},s.a.createElement(W,{text:e,onPress:function(){P(e),me(e)},element:s.a.createElement(R.a,{style:[{borderRadius:5,alignSelf:"center"}],source:{uri:ye(e)},height:60,width:106,onPress:function(){P(e),me(e)},onError:function(){return function(e){r[e][0].image=n(46),o(J({},r))}(e)}})}))}))),U&&s.a.createElement(g.a,{style:ge.message},U),_&&s.a.createElement(f.a,{style:ge.loader},s.a.createElement(b.a,{size:"large",color:"light"===se?"#0000ff":"#FFFFFF"})),!_&&0!==Oe.length&&s.a.createElement(d.a,{style:ge.pictureHolder},Oe.map((function(e,t){return!e.isDeleted&&s.a.createElement(m.a,{key:e.image,onPress:function(){return he(t)}},s.a.createElement(f.a,{style:ge.pictureHolder},s.a.createElement(R.a,{style:ge.picture,source:{uri:640===fe?e.image:e.imageBig},width:ce>fe?fe:ce}),s.a.createElement(f.a,{style:ge.pictureInfo},s.a.createElement(W,{onPress:function(){return function(e){r[j][e].isDeleted=!0,r[j+"_lastUpdate"]=Math.round((new Date).getTime()/1e3),v("pictures",JSON.stringify(r)),o(J({},r))}(t)},text:"x",addStyles:{marginLeft:2,marginRight:2}}),e.tags.split(",").map((function(e){return s.a.createElement(W,{onPress:function(){P(e.trim()),me(e.trim())},text:e.trim(),key:e.trim()})})))))})),X&&s.a.createElement(f.a,{style:[{marginBottom:20,width:120,alignSelf:"center"}]},s.a.createElement(W,{onPress:function(){return Z(Y+10)},text:"more pictures"}),s.a.createElement(W,{addStyles:{marginTop:20},onPress:function(){return de("suggestions",!le)},text:"more tags"})),le&&s.a.createElement(f.a,{style:ge.tags},we.map((function(e){return s.a.createElement(W,{key:e,text:e,onPress:function(){P(e),me(e)}})})))),!j&&s.a.createElement(f.a,{style:ge.textHolder},s.a.createElement(f.a,null,s.a.createElement(g.a,{style:[ge.text,{fontSize:24}]},"mediaViewer")),s.a.createElement(f.a,null,s.a.createElement(g.a,{style:ge.text},"- made with react native & typescript. works on web, android and ios")),s.a.createElement(f.a,null,s.a.createElement(g.a,{style:ge.text},"- you can change theme, resolution and language in footer")),s.a.createElement(f.a,null,s.a.createElement(g.a,{style:[ge.text,{marginTop:14}]},"- sercan ;)")),s.a.createElement(f.a,{style:{width:70}},s.a.createElement(R.a,{style:{marginTop:12},source:{uri:n(46)},width:70}),s.a.createElement(R.a,{style:{marginTop:12,marginBottom:12,marginLeft:3},source:{uri:n(135)},width:60,onPress:function(){return h.a.openURL("http://pixabay.com")}}))),T>4&&s.a.createElement(f.a,{style:[ge.footer,{bottom:46}]},s.a.createElement(W,{onPress:function(){return F(0)},text:"close",addStyles:ge.footerLink}),s.a.createElement(W,{onPress:function(){v("tags",JSON.stringify([])),ie([]),P("")},text:"clear tags",addStyles:J({},ge.footerLink,{borderLeftWidth:1})}),s.a.createElement(W,{onPress:function(){o([]),v("pictures",JSON.stringify({}))},text:"clear cache",addStyles:J({},ge.footerLink,{borderLeftWidth:1})})),s.a.createElement(f.a,{style:ge.footer},s.a.createElement(W,{onPress:function(){F(T+1)},text:"mediaViewer",addStyles:ge.footerLink}),s.a.createElement(W,{onPress:function(){return de("language","en"===ue?"tr":"en")},text:"en"===ue?"english":"turkish",addStyles:J({},ge.footerLink,{borderLeftWidth:1})}),s.a.createElement(W,{onPress:function(){return de("resolution",640===fe?1280:640)},text:640===fe?"640p":"1280p",addStyles:J({},ge.footerLink,{borderLeftWidth:1})}),s.a.createElement(W,{onPress:function(){de("theme","dark"===se?"light":"dark")},text:"dark"===se?"dark":"light",addStyles:J({},ge.footerLink,{borderLeftWidth:1})}))))},U=n(151);"web"===n(21).a.OS&&(window.oncontextmenu=function(e){return e.preventDefault(),e.stopPropagation(),!1});t.a=function(){var e=Object(c.useState)(!0),t=i()(e,2),r=t[0],o=t[1];return Object(c.useEffect)((function(){a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(U.a({"Ubuntu Mono":n(144)}));case 2:o(!1);case 3:case"end":return e.stop()}}))}),[]),!r&&s.a.createElement(B,null)}},96:function(e,t,n){n(97),e.exports=n(148)},97:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/react-native-media-viewer/expo-service-worker.js",{scope:"/react-native-media-viewer/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[96,1,2]]]);
//# sourceMappingURL=app.2b969f6a.chunk.js.map