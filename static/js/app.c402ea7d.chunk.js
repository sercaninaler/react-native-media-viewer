(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{84:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(14),i=n.n(o),c=n(21),s=n.n(c),l=n(20),u=n.n(l),f=n(5),d=n(11),g=n(86),p=n(12),m=n(85),h=n(80),y=n(76),b=n.n(y),w=function(e){return"https://pixabay.com/api/?key=14265060-81ead90aa88e46a5937fa954d\n&q="+e+"&image_type=photo&safesearch=true&orientation=horizontal&per_page=100"},E=["animals","fruits","planets"],O={theme:"light"},k=n(77),x=n.n(k),S=n(78),C=new(n.n(S).a),v=x.a.create(C,{}),j=function(e,t){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.awrap(v.set(e,t));case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:case"end":return n.stop()}}),null,null,[[0,5]])},L=function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.awrap(v.get(e));case 3:if(null===(t=n.sent)){n.next=6;break}return n.abrupt("return",t);case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}}),null,null,[[0,8]])},P=n(79).a.get("window"),D=Math.round(9*P.width/16),J={app:{paddingTop:15,paddingBottom:30,height:"100%",backgroundColor:"#000000"},button:{backgroundColor:"#eee",paddingLeft:11,paddingRight:11,borderRadius:5,borderColor:"#ddd",borderWidth:1,width:"fit-content",margin:5,padding:5},searchForm:{justifyContent:"center",flexDirection:"row"},searchButtonView:{height:40,marginLeft:12,marginTop:3},searchButton:{height:48,padding:4,fontSize:18,borderRadius:7},searchInput:{fontSize:16,padding:8,backgroundColor:"#eee",borderColor:"#ddd",borderWidth:1,borderRadius:5,width:260,height:40},tags:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",marginTop:15,marginBottom:15,marginLeft:"auto",marginRight:"auto",maxWidth:800},message:{flexWrap:"wrap",justifyContent:"center",marginTop:25,color:"red",fontSize:16,alignSelf:"center"},loader:{flex:1,flexDirection:"row",justifyContent:"space-around",alignItems:"center",position:"absolute",top:0,width:"100%",backgroundColor:"#FFF",height:"100%",opacity:.7,zIndex:1,paddingBottom:100},footer:{backgroundColor:"#ececec",padding:"10 0",position:"absolute",width:"100%",bottom:0,left:0,display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},footerLink:{margin:"0 5",borderColor:"#999999",padding:5,paddingLeft:10,paddingRight:10},pictureHolder:{flexDirection:"column",justifyContent:"center",position:"relative",alignItems:"center"},picture:{marginTop:"4%",marginBottom:"8%",width:P.width,height:D},pictureInfo:{position:"absolute",bottom:"17%",flexDirection:"row",alignSelf:"center"}};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(){L("pictures").then((function(e){e||j("pictures",JSON.stringify({}))})),L("tags").then((function(e){e||j("tags",JSON.stringify(E))})),L("settings").then((function(e){e||j("settings",JSON.stringify(O))}));var e=Object(r.useState)([]),t=u()(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),l=u()(c,2),y=l[0],k=l[1],x=Object(r.useState)(0),S=u()(x,2),C=S[0],v=S[1],P=Object(r.useState)(null),D=u()(P,2),F=D[0],N=D[1],T=Object(r.useState)(!1),W=u()(T,2),R=W[0],B=W[1],M=Object(r.useState)(10),z=u()(M,2),_=z[0],U=z[1],H=Object(r.useState)(O),A=u()(H,2),V=A[0],q=A[1],G=Object(r.useState)(E),K=u()(G,2),Q=K[0],X=K[1];Object(r.useEffect)((function(){L("settings").then((function(e){q(JSON.parse(e))})),L("tags").then((function(e){X(JSON.parse(e))})),L("pictures").then((function(e){o(JSON.parse(e))}))}),[]);var Y=J,Z=V.theme;"light"===Z&&(Y=I({},J,{app:I({},J.app,{backgroundColor:"#FFFFFF"})}));var $=function(e){var t,r,a,c;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.trim(),N(null),U(10),Array.isArray(n[t])&&n[t].length&&!(Math.round((new Date).getTime()/1e3)-n[t+"_lastUpdate"]>43200)){s.next=13;break}return B(!0),s.next=7,i.a.awrap(b.a.get(w(t)));case 7:r=s.sent,(a=r.data.hits).length?(ee(t),c=[],a.forEach((function(e){c.push({image:e.webformatURL,tags:e.tags,isDeleted:!1,showInfo:!1})})),n[t]=c,n[t+"_lastUpdate"]=Math.round((new Date).getTime()/1e3),j("pictures",JSON.stringify(n)),o(I({},n))):setTimeout((function(){N("Couldn't find any results ")}),500),setTimeout((function(){B(!1)}),500),s.next=14;break;case 13:-1===Q.indexOf(t)&&ee(t);case 14:case"end":return s.stop()}}))},ee=function(e){""!==e&&-1===Q.indexOf(e)&&(Q.unshift(e),X(Q),j("tags",JSON.stringify(Q)))},te=function(){v(C+1)},ne=n[y]?n[y].filter((function(e){return!e.isDeleted})).slice(0,_):[];return a.a.createElement(f.a,{style:Y.app},a.a.createElement(f.a,{style:Y.searchForm},a.a.createElement(g.a,{style:Y.searchInput,value:y,onChangeText:function(e){return function(e){k(e.toLowerCase())}(e)},onSubmitEditing:function(){$(y)},placeholder:"cats, planets, fruits,...",selectTextOnFocus:!0})),a.a.createElement(f.a,{style:Y.tags},Q.map((function(e){return a.a.createElement(p.a,{key:e,style:Y.button,onPress:function(){k(e),$(e)}},a.a.createElement(d.a,null,e))}))),F&&a.a.createElement(d.a,{style:Y.message},F),R&&a.a.createElement(f.a,{style:Y.loader},a.a.createElement(h.a,{size:"large",color:"#0000ff"})),!R&&0!==ne.length&&a.a.createElement(f.a,{style:Y.pictureHolder},ne.map((function(e,t){return a.a.createElement(p.a,{key:e.image,underlayColor:"#cccccc",onPress:function(){return function(e){n[y][e].showInfo=!n[y][e].showInfo,j("pictures",JSON.stringify(n)),o(I({},n))}(t)}},a.a.createElement(f.a,{style:Y.pictureHolder},a.a.createElement(m.a,{style:Y.picture,resizeMode:"cover",source:{uri:e.image}}),e.showInfo&&a.a.createElement(f.a,{style:Y.pictureInfo},a.a.createElement(p.a,{underlayColor:"#cccccc",style:I({},Y.button,{marginLeft:2,marginRight:2}),onPress:function(){return function(e){n[y][e].isDeleted=!0,n[y+"_lastUpdate"]=Math.round((new Date).getTime()/1e3),j("pictures",JSON.stringify(n)),o(I({},n))}(t)}},a.a.createElement(d.a,null,"x")),e.tags.split(",").map((function(e){return a.a.createElement(p.a,{key:e,style:I({},Y.button,{marginLeft:2,marginRight:2}),underlayColor:"#cccccc",onPress:function(){k(e.trim()),$(e)}},a.a.createElement(d.a,null,e))})))))})),a.a.createElement(p.a,{style:I({},Y.button,{marginBottom:50,marginLeft:"auto",marginRight:"auto"}),underlayColor:"#cccccc",onPress:function(){return U(_+10)}},a.a.createElement(d.a,null,"Load More"))),a.a.createElement(f.a,{style:Y.footer},C<4&&a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{style:Y.footerLink,underlayColor:"#ccc",onPress:function(){te()}},a.a.createElement(d.a,null,"Media Viewer")),a.a.createElement(p.a,{style:I({},Y.footerLink,{borderLeftWidth:1}),underlayColor:"#ccc",onPress:function(){!function(e,t){var n=I({},V,s()({},e,t));q(n),j("settings",JSON.stringify(n))}("theme","dark"===Z?"light":"dark")}},a.a.createElement(d.a,null,"dark"===Z?"Light":"Dark"," Mode"))),C>20&&a.a.createElement(p.a,{style:Y.footerLink,onPress:function(){return te()},underlayColor:"#ccc"},a.a.createElement(d.a,null,"Language (English)")),4===C&&a.a.createElement(p.a,{style:Y.footerLink,onPress:function(){return te()},underlayColor:"#ccc"},a.a.createElement(d.a,null,"Settings")),C>4&&a.a.createElement(p.a,{style:Y.footerLink,onPress:function(){return v(0)},underlayColor:"#ccc"},a.a.createElement(d.a,null,"Back")),C>4&&a.a.createElement(p.a,{style:I({},Y.footerLink,{borderLeftWidth:1}),underlayColor:"#ccc",onPress:function(){localStorage.setItem("tags",JSON.stringify([])),X([]),k("")}},a.a.createElement(d.a,null,"Clear tags")),C>4&&a.a.createElement(p.a,{style:I({},Y.footerLink,{borderLeftWidth:1}),underlayColor:"#ccc",onPress:function(){o([]),localStorage.setItem("pictures",JSON.stringify({}))}},a.a.createElement(d.a,null,"Clear cache"))))};t.a=N},87:function(e,t,n){n(88),e.exports=n(135)},88:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[87,1,2]]]);
//# sourceMappingURL=../../2140425c76936f4af945.map