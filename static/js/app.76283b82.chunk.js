(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{83:function(e,t,r){"use strict";var a=r(1),n=r.n(a),o=r(48),i=r.n(o),c=r(29),l=r.n(c),s=r(23),u=r.n(s),g=r(18),d=r.n(g),p=r(5),m=r(11),f=r(85),h=r(13),y=r(84),b=r(74),w=r.n(b),S=r(75),E=r.n(S),O=r(76),I=function(e){return"https://pixabay.com/api/?key=14265060-81ead90aa88e46a5937fa954d\n&q="+e+"&image_type=photo&orientation=horizontal&per_page=100"},C=["animals","fruits","planets"],k={imageWidth:640,theme:"light"},x=localStorage.getItem("tags")?JSON.parse(localStorage.getItem("tags")||""):C,j=localStorage.getItem("settings")?JSON.parse(localStorage.getItem("settings")||""):k,v=r(77).a.get("window"),F=Math.round(9*v.width/16),L={app:{paddingTop:15,paddingBottom:30,height:"100%",backgroundColor:"#000000"},button:{backgroundColor:"#eee",padding:6,paddingLeft:10,paddingRight:10,borderRadius:5,borderColor:"#ddd",borderWidth:1,width:"fit-content"},searchForm:{justifyContent:"center",flexDirection:"row"},searchButtonView:{height:40,marginLeft:12,marginTop:3},searchButton:{height:48,padding:4,fontSize:18,borderRadius:7},searchInput:{fontSize:16,padding:8,backgroundColor:"#eee",borderColor:"#ddd",borderWidth:1,borderRadius:5,width:260,height:40},tags:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",marginTop:15,marginBottom:15,marginLeft:"auto",marginRight:"auto",maxWidth:800},tag:{margin:5,backgroundColor:"#eee",padding:5,paddingLeft:11,paddingRight:11,borderRadius:5,borderColor:"#ddd",borderWidth:1},message:{flexWrap:"wrap",justifyContent:"center",marginTop:25,color:"red",fontSize:16,alignSelf:"center"},loader:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"absolute",top:0,width:"100%",backgroundColor:"#000",height:"100%",opacity:.6,zIndex:1,paddingBottom:100},AppFooter:{backgroundColor:"#ececec",padding:"10 0",position:"absolute",width:"100%",bottom:0,left:0,display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},AppFooterItem:{margin:"0 5",borderColor:"#999999",padding:5,paddingLeft:10,paddingRight:10},pictureHolder:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},picture:{marginTop:"4%",marginBottom:"10%",position:"relative",width:v.width-20,height:F,borderRadius:10},pictureInfo:{position:"absolute",bottom:"3%",padding:10,flexDirection:"row",alignSelf:"center"}};function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(r,!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=function(){localStorage.getItem("pictures")||localStorage.setItem("pictures",JSON.stringify({})),localStorage.getItem("tags")||localStorage.setItem("tags",JSON.stringify(C)),localStorage.getItem("settings")||localStorage.setItem("settings",JSON.stringify(k));var e=Object(a.useState)([]),t=d()(e,2),r=t[0],o=t[1],c=Object(a.useState)(""),s=d()(c,2),g=s[0],b=s[1],S=Object(a.useState)(x),v=d()(S,2),F=v[0],P=v[1],D=Object(a.useState)(0),R=d()(D,2),J=R[0],N=R[1],T=Object(a.useState)(j),A=d()(T,2),z=A[0],B=A[1],M=Object(a.useState)(null),_=d()(M,2),U=_[0],H=_[1],V=Object(a.useState)(!1),q=d()(V,2),G=q[0],K=q[1],Q=Object(a.useState)(10),X=d()(Q,2),Y=X[0],Z=X[1],$=L,ee=z.theme,te=z.imageWidth;"light"===ee&&($=W({},L,{app:W({},L.app,{backgroundColor:"#FFFFFF"})}));var re=function(e){""!==e&&-1===F.indexOf(e)&&(F.unshift(e),P(F),localStorage.setItem("tags",JSON.stringify(F)))},ae=function(e){var t,r,a,n,i;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.trim(),H(null),Z(10),r=JSON.parse(localStorage.getItem("pictures")||""),Array.isArray(r[t])&&r[t].length&&!(Math.round((new Date).getTime()/1e3)-r[t+"_lastUpdate"]>43200)){c.next=14;break}return K(!0),c.next=8,l.a.awrap(w.a.get(I(t)));case 8:a=c.sent,(n=a.data.hits).length?(i=[],n.forEach((function(e){i.push({image:e.webformatURL,tags:e.tags,isDeleted:!1,showInfo:!1})})),r[t]=i,r[t+"_lastUpdate"]=Math.round((new Date).getTime()/1e3),localStorage.setItem("pictures",JSON.stringify(r)),o(i),re(t)):(setTimeout((function(){H("Couldn't find any results ")}),500),o([])),setTimeout((function(){K(!1)}),500),c.next=16;break;case 14:o(r[t]),-1===F.indexOf(t)&&re(t);case 16:case"end":return c.stop()}}))},ne=function(){N(J+1)},oe=function(e,t){var r=W({},z,u()({},e,t));B(r),localStorage.setItem("settings",JSON.stringify(r))},ie=r.filter((function(e){return!e.isDeleted})).slice(0,Y);return n.a.createElement(p.a,{style:$.app},n.a.createElement(p.a,{style:$.searchForm},n.a.createElement(f.a,{style:$.searchInput,value:g,onChangeText:function(e){return function(e){b(e.toLowerCase())}(e)},onSubmitEditing:function(){ae(g)},placeholder:"cats, planets, fruits,...",selectTextOnFocus:!0})),n.a.createElement(p.a,{style:$.tags},F.map((function(e){return n.a.createElement(h.a,{key:e,style:$.tag,onPress:function(){b(e),ae(e)}},n.a.createElement(m.a,null,e))}))),U&&n.a.createElement(m.a,{style:$.message},U),G&&n.a.createElement(p.a,{style:$.loader},n.a.createElement(E.a,{type:"BallTriangle",color:"#FFF",height:100,width:100,timeout:5e5})),!G&&0!==r.length&&n.a.createElement(p.a,{style:$.pictureHolder},n.a.createElement(O.Resizable,{size:{width:te,height:"auto"},enable:{top:!1,right:window.innerWidth>te,bottom:!1,left:window.innerWidth>te,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},onResizeStop:function(e,t,r,a){oe("imageWidth",(parseInt(String(te))+parseInt(String(a.width))).toString())}},ie.map((function(e,t){return n.a.createElement(p.a,{style:$.pictureHolder,key:e.image},n.a.createElement(y.a,{style:$.picture,resizeMode:"cover",source:{uri:e.image},onClick:function(){return function(e){var t=i()(r);t[e].showInfo=!t[e].showInfo,o(t)}(t)}}),e.showInfo?n.a.createElement(p.a,{style:$.pictureInfo},n.a.createElement(h.a,{underlayColor:"#cccccc",style:W({},$.button,{marginLeft:2,marginRight:2}),onPress:function(){return function(e,t){var a=i()(r);a[e].isDeleted=!0,o(a);var n=JSON.parse(localStorage.getItem("pictures")||"");n[t]=a,n[t+"_lastUpdate"]=Math.round((new Date).getTime()/1e3),localStorage.setItem("pictures",JSON.stringify(n))}(t,g)}},n.a.createElement(m.a,null,"x")),e.tags.split(",").map((function(e){return n.a.createElement(h.a,{key:e,style:W({},$.button,{marginLeft:2,marginRight:2}),underlayColor:"#cccccc",onPress:function(){b(e),ae(e)}},n.a.createElement(m.a,null,e))}))):null)})),n.a.createElement(h.a,{style:W({},$.button,{marginBottom:50,marginLeft:"auto",marginRight:"auto"}),underlayColor:"#cccccc",onPress:function(){return Z(Y+10)}},n.a.createElement(m.a,null,"Load More")))),n.a.createElement(p.a,{style:$.AppFooter},J<4&&n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{style:$.AppFooterItem,underlayColor:"#ccc",onPress:function(){ne()}},n.a.createElement(m.a,null,"Media Viewer")),n.a.createElement(h.a,{style:W({},$.AppFooterItem,{borderLeftWidth:1}),underlayColor:"#ccc",onPress:function(){oe("theme","dark"===ee?"light":"dark")}},n.a.createElement(m.a,null,"dark"===ee?"Light":"Dark"," Mode"))),J>20&&n.a.createElement(h.a,{style:$.AppFooterItem,onPress:function(){return ne()},underlayColor:"#ccc"},n.a.createElement(m.a,null,"Language (English)")),4===J&&n.a.createElement(h.a,{style:$.AppFooterItem,onPress:function(){return ne()},underlayColor:"#ccc"},n.a.createElement(m.a,null,"Settings")),J>4&&n.a.createElement(h.a,{style:$.AppFooterItem,onPress:function(){return N(0)},underlayColor:"#ccc"},n.a.createElement(m.a,null,"Back")),J>4&&n.a.createElement(h.a,{style:W({},$.AppFooterItem,{borderLeftWidth:1}),underlayColor:"#ccc",onPress:function(){localStorage.setItem("tags",JSON.stringify([])),P([])}},n.a.createElement(m.a,null,"Clear tags")),J>4&&n.a.createElement(h.a,{style:W({},$.AppFooterItem,{borderLeftWidth:1}),underlayColor:"#ccc",onPress:function(){o([]),localStorage.setItem("pictures",JSON.stringify({}))}},n.a.createElement(m.a,null,"Clear cache"))))};t.a=D},86:function(e,t,r){r(87),e.exports=r(156)},87:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[86,1,2]]]);
//# sourceMappingURL=../../5722f4ffaf861e4986fa.map